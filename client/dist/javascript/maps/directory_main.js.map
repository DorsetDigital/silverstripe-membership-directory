{"version":3,"file":"../directory_main.js","names":["resultsHolder","document","getElementById","searchForm","initDirectorySearchForm","console","error","addEventListener","event","preventDefault","formData","FormData","hideResultsContent","then","fetch","action","method","body","headers","response","text","html","processResults","showResultsContent","Promise","resolve","classList","add","setTimeout","remove","innerHTML"],"sources":["directory_main.js"],"sourcesContent":["const resultsHolder = document.getElementById('membership-page-content');\nconst searchForm = document.getElementById('DirectorySearchForm_Form');\n\nfunction initDirectorySearchForm() {\n    if ((resultsHolder === null) || (searchForm === null)) {\n        console.error('Cannot find required elements.  Quitting');\n        return;\n    }\n\n    searchForm.addEventListener('submit', (event) => {\n        event.preventDefault();  // Prevent the form's default submission behavior\n\n        const formData = new FormData(searchForm);  // Get the form data\n\n        hideResultsContent().then(() => {\n            // Fetch POST request to the URL specified in the form's action attribute\n            fetch(searchForm.action, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'  // Signal that this is an AJAX request\n                }\n            })\n                .then(response => response.text())  // Assuming the response is an HTML fragment\n                .then(html => {\n                    // Populate new results\n                    processResults(html);\n                    // Fade the results back in after updating\n                    showResultsContent();\n                })\n                .catch(error => {\n                    console.error('Error occurred during form submission:', error);\n                });\n        });\n    });\n}\n\n// Function to hide results content with a fade-out effect\nfunction hideResultsContent() {\n    return new Promise((resolve) => {\n        resultsHolder.classList.add('hidden');  // Start the fade-out\n        setTimeout(() => {\n            resolve();  // Resolve after the fade-out is complete (200ms)\n        }, 200);\n    });\n}\n\n// Function to show results content with a fade-in effect\nfunction showResultsContent() {\n    resultsHolder.classList.remove('hidden');  // Fade the content back in\n}\n\n// Function to process and insert the HTML fragment into the results holder\nfunction processResults(html) {\n    // Clear the previous results\n    resultsHolder.innerHTML = '';\n\n    // Insert the new HTML fragment into the resultsHolder\n    resultsHolder.innerHTML = html;\n}\n\n// Initialize the form submission behavior\ninitDirectorySearchForm();\n"],"mappings":";;AAAA,IAAMA,aAAa,GAAGC,QAAQ,CAACC,cAAc,CAAC,yBAAyB,CAAC;AACxE,IAAMC,UAAU,GAAGF,QAAQ,CAACC,cAAc,CAAC,0BAA0B,CAAC;AAEtE,SAASE,uBAAuBA,CAAA,EAAG;EAC/B,IAAKJ,aAAa,KAAK,IAAI,IAAMG,UAAU,KAAK,IAAK,EAAE;IACnDE,OAAO,CAACC,KAAK,CAAC,0CAA0C,CAAC;IACzD;EACJ;EAEAH,UAAU,CAACI,gBAAgB,CAAC,QAAQ,EAAE,UAACC,KAAK,EAAK;IAC7CA,KAAK,CAACC,cAAc,CAAC,CAAC,CAAC,CAAE;;IAEzB,IAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACR,UAAU,CAAC,CAAC,CAAE;;IAE5CS,kBAAkB,CAAC,CAAC,CAACC,IAAI,CAAC,YAAM;MAC5B;MACAC,KAAK,CAACX,UAAU,CAACY,MAAM,EAAE;QACrBC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEP,QAAQ;QACdQ,OAAO,EAAE;UACL,kBAAkB,EAAE,gBAAgB,CAAE;QAC1C;MACJ,CAAC,CAAC,CACGL,IAAI,CAAC,UAAAM,QAAQ;QAAA,OAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAAE;MAAA,CACnCP,IAAI,CAAC,UAAAQ,IAAI,EAAI;QACV;QACAC,cAAc,CAACD,IAAI,CAAC;QACpB;QACAE,kBAAkB,CAAC,CAAC;MACxB,CAAC,CAAC,SACI,CAAC,UAAAjB,KAAK,EAAI;QACZD,OAAO,CAACC,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAClE,CAAC,CAAC;IACV,CAAC,CAAC;EACN,CAAC,CAAC;AACN;;AAEA;AACA,SAASM,kBAAkBA,CAAA,EAAG;EAC1B,OAAO,IAAIY,OAAO,CAAC,UAACC,OAAO,EAAK;IAC5BzB,aAAa,CAAC0B,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAE;IACxCC,UAAU,CAAC,YAAM;MACbH,OAAO,CAAC,CAAC,CAAC,CAAE;IAChB,CAAC,EAAE,GAAG,CAAC;EACX,CAAC,CAAC;AACN;;AAEA;AACA,SAASF,kBAAkBA,CAAA,EAAG;EAC1BvB,aAAa,CAAC0B,SAAS,CAACG,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAE;AAC/C;;AAEA;AACA,SAASP,cAAcA,CAACD,IAAI,EAAE;EAC1B;EACArB,aAAa,CAAC8B,SAAS,GAAG,EAAE;;EAE5B;EACA9B,aAAa,CAAC8B,SAAS,GAAGT,IAAI;AAClC;;AAEA;AACAjB,uBAAuB,CAAC,CAAC","ignoreList":[]}